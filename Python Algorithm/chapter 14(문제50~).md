# 목차

# 14장 트리
## 이진 탐색 트리(BST)
앞서 이진 트리는 정렬 여부와 관계 없이 모든 노드가 둘 이하의 자식을 갖는 단순한 트리 형태를 말했다.<br>
그렇다면 이진 탐색 트리(Binary Search Tree(이하 BST)) 란 무엇일까?

**이진 ‘탐색’ 트리란** 정렬된 트리를 말하는데 노드의 왼쪽 서브트리에는 그 노드의 값보다 작은 값들을 지닌 노드들로 이뤄져 있는 반면, 노드의 오른쪽 서브트리에는 그 노드의 값과 같거나 큰 값들을 지난 노드들로 이루어져 있는 트리를 뜻한다.<br>
이렇게 왼쪽과 오른쪽의 값들이 각각 값의 크기에 따라 정렬되어 있는 트리를 이진 탐색 트리라 한다.<br>
이 트리의 가장 훌륭한 점은 탐색 시 시간 복잡도가 O(log n)이라는 점이다.

로그는 정말 마법과도 같은 수식인데(애초에 수학에서 로그의 존재 자체가 마법 같다) 1억 개의 아이템도 단 27번이면 모두 찾아낼 수 있다.<br>
이산수학에서도 매번 등장하는 수학 함수이기도 하며, 심지어 카드 마술에까지 이진 탐색이(트리가 아닌 이진 탐색(Binary Search)만을 일컬을 때는 흔히 ‘이진 검색’(18장 참조)이라고도 부른다) 등장한다.<br>
1부터 100까지 관객이 마음 속에 생각해둔 숫자를 맞춰 보겠다고 하면, 단 7번의 카드만 제시하면 반드시 맞출 수 있기 때문이다.<br>
이처럼 마술 같은 힘을 보이는 **로그의 강력함을 잘 표현한 트리가 바로 이진 탐색 트리다.**<br>
이진 탐색 트리를 이용해 원하는 값(여기서는 8)을 찾는(탐색하는) 과정을 그림 14-18에서 볼 수 있다.

<img src="https://user-images.githubusercontent.com/55045377/120411230-65c3c300-c38f-11eb-885b-eb10f705e958.png" width=45% height=45%>

이 그림에서 먼저, 루트는 15이며, 8은 15보다 작다. 따라서 왼쪽 자식 노드를 탐색한다.<br>
10 또한 마찬가지로 8보다 크므로, 왼쪽을 택한다.<br>
5는 8보다 작으므로, 오른쪽으로 탐색한다.<br>
그다음, 7은 8보다 작으므로 마지막으로 오른쪽을 탐색해 정답 8을 찾아낸다. 이처럼 **단 4번 만에** 정답을 찾을 수 있었다.

만약 6을 찾는다면(여기서는 정답이 없는) 5 이후에 오른쪽을 탐색하게 될 것이고, 그다음에는 7, 이후에 다시 왼쪽을 탐색하려 하는데, 더 이상 왼쪽 노드가 없으므로 탐색을 중단하고 ‘정답 없음’을 출력하게 될 것이다.
<br><br>

<img src="https://user-images.githubusercontent.com/55045377/120411758-4b3e1980-c390-11eb-956f-9020f0fa9a98.png" width=65% height=65%>

그림 14-19는 로버트 세지윅 교수의『알고리즘 개정 4판』에서 256개의 키를 랜덤으로 생성해 BST로 표현한 실험을 진행한 결과를 표현한 그림이다.<br>
BST는 이처럼 랜덤하게 생성해도 대부분의 경우 균형이 잘 맞는 아름다운 형태로 트리를 표현할 수 있지만, 운이 나쁘면 트리의 모양이 균형을 제대로 이루지 못할 수 있다.<br>
균형이 많이 깨지면 탐색 시에 O(log n)이 아니라 O(n)에 근접한 시간이 소요될 수 있다.<br>
그림 14-20은 균형이 깨진 대표적인 모습이다.

<img src="https://user-images.githubusercontent.com/55045377/120412379-6cebd080-c391-11eb-8672-e0aa7e0de442.png" width=30% height=30%>

이 그림은 운이 나쁘게 비효율적으로 구성된 경우인데, 이렇게 되면 연결 리스트와 다르지 않다.<br>
7을 찾기 위해서는 루트부터 맨 끝까지 차례대로 모두 탐색해야 하므로 전혀 효율적이지 않다.<br>
강력한 로그 계산을 기반으로 하는 이진 탐색 트리의 장점을 전혀 살릴 수 없다.<br>
따라서 이런 트리는 균형을 맞춰 줄 필요가 있다.<br>
그래서 고안해낸 것이 바로 **‘자가균형 이진 탐색 트리’** 다.
<br><br>

## 자가 균형 이진 탐색 트리
> 자가 균형(또는 높이 균형) 이진 탐색 트리는 삽입, 삭제 시 자동으로 높이를 작게 유지하는 노드 기반의 이진 탐색 트리다.






























