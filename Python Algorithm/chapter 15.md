# 목차

# 15장 힙
> 힙은 힙의 특성(최소 힙(Min Heap)에서는 부모가 향상 자식보다 작거나 같다)을 만족하는 거의 완전한 트리(Almost Complete Tree)인 특수한 트리 기반의 자료구조다.

**힙(Heap)** 은 그래프나 트리와는 전혀 관계 없어 보이는 독특한 이름과 달리, 트리 기반의 자료구조다.<br>
앞서 우선순위 큐를 사용할 때 매번 활용했던 heapq 모듈이 바로 힙으로 구현되어 있으며, 그중에서도 **파이썬에는 최소 힙만 구현되어 있다.**<br>
최소 힙은 부모가 항상 자식보다 작기 때문에 루트가 결국 가장 작은 값을 갖게 되며, 우선순위 큐에서 가장 작은 값을 추출하는 것은 매번 힙의 루트를 가져오는 형태로 구현된다.<br>
기반 구현을 살펴보면, **우선순위 큐 ADT(추상 자료형)는 주로 힙으로 구현하고, 힙은 주로 배열로 구현한다.**<br>
따라서 우선순위 큐는 결국은 배열로 구현하는 셈이 된다.

여기서 오해하기 쉬운 특징 중 하나는 힙은 정렬된 구조가 아니라는 점이다.<br>
**최소 힙의 경우 부모 노드가 항상 작다는 조건만 만족할 뿐, 서로 정렬되어 있지 않다.**<br>
예를 들어 오른쪽의 자식 노드가 레벨 차이에도 불구하고, 왼쪽 노드보다 더 작은 경우도 얼마든지 있을 수 있다.<br>
부모, 자식 간의 관계만 정의할 뿐, 좌우에 대한 관계는 정의하지 않기 때문이다.

<img src="https://user-images.githubusercontent.com/55045377/123357813-37f42780-d5a5-11eb-9e92-76fd8caf9660.png" width=50% height=50%>

그림 15-1에서도 부모는 항상 자식보다 작을 뿐, 좌우의 정렬 관계는 제각각이다.<br>
여기서는 대부분 왼쪽이 오른쪽보다 작지만, 14의 자식 노드인 33과 17은 왼쪽이 오른쪽보다 더 크다.<br>
자식이 둘인 힙은 특별히 이진 힙(Binary Heap)이라 하며, 대부분은 이진 힙이 널리 사용된다.<br>
트리 중에서 이진 트리가 널리 사용되는 이유와 비슷하다.

힙이라는 자료구조 자체는 J.W.J. 윌리엄스(Williams)라는 영국의 컴퓨터과학자가 1964년 힙 정렬 알고리즘을 고안하면서 설계했다.<br>
사실상 힙이라는 자료구조는 힙 정렬의 부산물인 셈이다.<br>
**힙은 완전 이진 트리이기 때문에 배열에 순서대로 표현하기에 적합하다.**<br>
앞서 14장의 47번 ‘이진 트리 직렬화 & 역직렬화’ 문제에서 살펴보기도 했던 그림 15-2는 이진 힙의 배열 표현이며, 이처럼 루트부터 차례대로 나열하면 1, 2, 4, ... 순서대로 각 레벨의 노드가 2배씩 증가하는 형태로 배열에 나열할 수 있다

<img src="https://user-images.githubusercontent.com/55045377/123358290-2f502100-d5a6-11eb-84aa-aa2717f42ee1.png" width=70% height=70%>

그림 15-2의 2)처럼 완전 이진 트리 형태인 이진 힙은 배열에 빈틈없이 배치가 가능하며, 대개 트리의 배열 표현의 경우 계산을 편하게 하기 위해 인덱스는 1부터 사용한다.

협은 항상 균형을 유지하는 특징 때문에 다양한 분야에 널리 활용된다. 대표적으로 우선순위 큐뿐만 아니라 이를 이용한 다익스트라 알고리즘에도 활용된다.<br>
협 덕분에 다익스트라 알고리즘의 시간 복잡도는 Q(V2 ) 에서 Q(E log v) 로 줄어들 수 있었다.<br>
이외에도 원래의 용도인 협 정렬과 최소 신장 트리 Minimum Spanning Tree를 구현하는 프림 알고리즘(Prim's Alg)


























